# 微信开发者工具常见问题解决方案

## 错误：webapi_getwxaasyncsecinfo:fail

### 问题说明
这是微信开发者工具的内部错误，通常出现在：
- 项目首次加载时
- 切换 AppID 时
- 开发者工具版本问题

### 解决方法

#### 方法一：清理缓存（推荐）

1. **关闭项目**
   - 在微信开发者工具中关闭当前项目

2. **清除缓存**
   - 工具栏 → 清缓存
   - 选择"清除全部缓存"
   - 点击确定

3. **重新打开项目**
   - 重新导入项目
   - 等待编译完成

#### 方法二：重新导入项目

1. **关闭当前项目**

2. **删除项目缓存**
   ```bash
   # 删除项目中的缓存文件
   rm -rf .DS_Store
   ```

3. **重新导入**
   - 微信开发者工具 → 导入项目
   - 选择项目目录
   - 填写 AppID

#### 方法三：更新开发者工具

1. **检查版本**
   - 帮助 → 检查更新

2. **更新到最新版本**
   - 下载并安装最新版本

#### 方法四：使用测试号

1. **切换到测试号**
   - 详情 → 基本信息
   - AppID → 使用测试号

2. **重新编译**

---

## 其他常见错误

### 1. 不在以下 request 合法域名列表中

**解决方法**:
- 详情 → 本地设置
- 勾选"不校验合法域名"

### 2. 模块 "xxx" 不存在

**解决方法**:
- 检查文件路径是否正确
- 确保文件已保存
- 重新编译项目

### 3. 页面路径错误

**解决方法**:
- 检查 app.json 中的 pages 配置
- 确保页面文件存在

---

## 快速诊断

### 检查项目是否正常运行

1. **查看编译结果**
   - 控制台是否有其他错误
   - 模拟器是否正常显示

2. **测试基础功能**
   - 页面能否正常跳转
   - 按钮能否正常点击

3. **测试 API 调用**
   - 打开测试页面
   - 测试 TTS 和 OCR

---

## 如果错误持续出现

### 临时解决方案

在 `app.js` 中添加错误捕获：

```javascript
App({
  onLaunch() {
    // 捕获全局错误
    wx.onError((error) => {
      // 忽略 webapi_getwxaasyncsecinfo 错误
      if (error.includes('webapi_getwxaasyncsecinfo')) {
        return
      }
      console.error('全局错误:', error)
    })
  }
})
```

---

## 验证项目是否正常

### 测试清单

- [ ] 首页能正常显示
- [ ] 能进入听写页面
- [ ] 语音播报功能正常
- [ ] 拍照批改功能正常
- [ ] 排行榜能正常显示
- [ ] 历史记录能正常查看

如果以上功能都正常，说明项目没有问题，可以忽略该错误。

---

## 联系支持

如果问题依然存在：
1. 查看微信开发者社区
2. 提交反馈到微信开发者工具
3. 使用真机调试（真机通常不会有这个问题）

---

**更新时间**: 2026-02-12  
**适用版本**: 微信开发者工具 2.x
