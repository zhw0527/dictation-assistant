<!--pages/ranking/ranking.wxml-->
<view class="container">
  <!-- æ’è¡Œæ¦œå¤´éƒ¨ -->
  <view class="ranking-header">
    <text class="ranking-title">ğŸ† æ’è¡Œæ¦œ</text>
    
    <!-- æ ‡ç­¾åˆ‡æ¢ -->
    <view class="tab-bar">
      <view 
        class="tab {{currentTab === 'daily' ? 'active' : ''}}" 
        bindtap="switchTab" 
        data-tab="daily"
      >
        ä»Šæ—¥
      </view>
      <view 
        class="tab {{currentTab === 'weekly' ? 'active' : ''}}" 
        bindtap="switchTab" 
        data-tab="weekly"
      >
        æœ¬å‘¨
      </view>
      <view 
        class="tab {{currentTab === 'all' ? 'active' : ''}}" 
        bindtap="switchTab" 
        data-tab="all"
      >
        æ€»æ¦œ
      </view>
    </view>
  </view>

  <!-- å‰ä¸‰åç‰¹æ®Šå±•ç¤º -->
  <view class="top-three">
    <view class="top-item top-2" wx:if="{{rankingList[1]}}">
      <image class="top-avatar" src="{{rankingList[1].avatar}}"></image>
      <view class="top-medal">ğŸ¥ˆ</view>
      <text class="top-name">{{rankingList[1].name}}</text>
      <text class="top-points">{{rankingList[1].points}} åˆ†</text>
    </view>

    <view class="top-item top-1" wx:if="{{rankingList[0]}}">
      <image class="top-avatar champion" src="{{rankingList[0].avatar}}"></image>
      <view class="top-medal champion-medal">ğŸ‘‘</view>
      <text class="top-name">{{rankingList[0].name}}</text>
      <text class="top-points champion-points">{{rankingList[0].points}} åˆ†</text>
    </view>

    <view class="top-item top-3" wx:if="{{rankingList[2]}}">
      <image class="top-avatar" src="{{rankingList[2].avatar}}"></image>
      <view class="top-medal">ğŸ¥‰</view>
      <text class="top-name">{{rankingList[2].name}}</text>
      <text class="top-points">{{rankingList[2].points}} åˆ†</text>
    </view>
  </view>

  <!-- æ’è¡Œæ¦œåˆ—è¡¨ -->
  <view class="ranking-list">
    <view 
      class="ranking-item" 
      wx:for="{{rankingList}}" 
      wx:key="id"
      wx:if="{{index >= 3}}"
      bindtap="viewUserDetail"
      data-user-id="{{item.id}}"
    >
      <view class="rank-number rank-{{index + 1}}">
        {{index + 1}}
      </view>
      <image class="user-avatar" src="{{item.avatar}}"></image>
      <text class="user-name">{{item.name}}</text>
      <text class="user-points">{{item.points}} åˆ†</text>
    </view>
  </view>

  <!-- åŠ è½½ä¸­ -->
  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- æˆ‘çš„æ’å -->
  <view class="my-ranking">
    <view class="my-rank-info">
      <text class="my-rank-label">æˆ‘çš„æ’å</text>
      <text class="my-rank-value">ç¬¬ {{myRank}} å</text>
    </view>
    <view class="my-points-info">
      <text class="my-points-label">æˆ‘çš„ç§¯åˆ†</text>
      <text class="my-points-value">{{myPoints}} åˆ†</text>
    </view>
  </view>
</view>
